package engine

import (
	"bytes"
	"image"
	"image/color"
	"image/png"
)

// MinimalPNG is a valid 1x1 red pixel PNG (67 bytes).
// Too small for chat photos â€” use ChatPhotoPNG instead.
var MinimalPNG = []byte{
	0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a,
	0x00, 0x00, 0x00, 0x0d, 0x49, 0x48, 0x44, 0x52,
	0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01,
	0x08, 0x02, 0x00, 0x00, 0x00, 0x90, 0x77, 0x53,
	0xde, 0x00, 0x00, 0x00, 0x0c, 0x49, 0x44, 0x41,
	0x54, 0x08, 0xd7, 0x63, 0xf8, 0xcf, 0xc0, 0x00,
	0x00, 0x03, 0x01, 0x01, 0x00, 0x18, 0xdd, 0x8d,
	0xb0, 0x00, 0x00, 0x00, 0x00, 0x49, 0x45, 0x4e,
	0x44, 0xae, 0x42, 0x60, 0x82,
}

// ChatPhotoPNG is a 160x160 red PNG suitable for setChatPhoto.
// Telegram requires chat photos to be at least 160x160 pixels.
var ChatPhotoPNG = func() []byte {
	img := image.NewRGBA(image.Rect(0, 0, 160, 160))
	red := color.RGBA{R: 255, G: 0, B: 0, A: 255}
	for y := 0; y < 160; y++ {
		for x := 0; x < 160; x++ {
			img.Set(x, y, red)
		}
	}
	var buf bytes.Buffer
	_ = png.Encode(&buf, img)
	return buf.Bytes()
}()
